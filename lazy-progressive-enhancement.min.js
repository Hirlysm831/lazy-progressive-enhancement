/* @license
lazy-progressive-enhancement.js
https://github.com/tvler/lazy-progressive-enhancement
The MIT License (MIT)
Copyright (c) 2016 Tyler Deitz
*/
function loadMedia(t,e,n){"use strict";function r(t){if(t==null){t=document.querySelectorAll("noscript")}else if(t instanceof Element){t=[t]}else if(typeof t==="string"){t=document.querySelectorAll(t)}return t}function i(t,n){return window.setInterval(function(){var r=t.getBoundingClientRect(),i=300;if(r.bottom>=-i&&r.top-window.innerHeight<i&&(r.right>=-i&&r.left-window.innerWidth<i)){window.clearInterval(t.getAttribute("data-intervalid"));t.onload=e;n&&(t.srcset=n);t.src=t.getAttribute("data-src")}},100)}function a(t){var a,A,l,o="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";for(var d=0;d<(t=r(t)).length;d++){A=(new DOMParser).parseFromString((a=t[d]).textContent,"text/html").body.firstElementChild;if(n){A.setAttribute("data-src",A.getAttribute("src"));(l=A.getAttribute("srcset"))&&A.setAttribute("data-srcset",l);A.src=o;A.removeAttribute("srcset");a.parentElement.replaceChild(A,a);A.setAttribute("data-intervalid",i(A,l))}else{a.parentElement.replaceChild(A,a);A.onload=e}}}var A=function(){a(t)};if(document.readyState!=="loading"){A()}else{document.addEventListener("DOMContentLoaded",A)}}
