/* @license
lazy-progressive-enhancement.js
https://github.com/tvler/lazy-progressive-enhancement
The MIT License (MIT)
Copyright (c) 2016 Tyler Deitz
*/
function loadMedia(e,t,n){"use strict";var r=[],i=function(){o(e)};if(document.readyState!=="loading"){i()}else{document.addEventListener("DOMContentLoaded",i)}function l(e){if(e==null){e=document.querySelectorAll("noscript")}else if(e instanceof Element){e=[e]}else if(typeof e==="string"){e=document.querySelectorAll(e)}return e}function A(e,n,i){var l=e.getBoundingClientRect(),A=300;if(l.bottom>=-A&&l.top-window.innerHeight<A&&(l.right>=-A&&l.left-window.innerWidth<A)){clearInterval(r[n]);e.onload=t;i&&(e.srcset=i);e.src=n}}function o(e){var i,o,a,c,e=l(e),s=0,d="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";while(i=e[s++]){o=(new DOMParser).parseFromString(i.textContent,"text/html").body.firstElementChild;if(n){a=o.getAttribute("src");c=o.getAttribute("srcset");o.src=d;o.removeAttribute("srcset");i.parentElement.replaceChild(o,i);r[a]=setInterval(A,100,o,a,c)}else{i.parentElement.replaceChild(o,i);o.onload=t}}}}
